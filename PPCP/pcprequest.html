<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <!-- Favicons -->
    <link href="../assets/img/x.png" rel="icon">
    <link href="../assets/img/x.png" rel="apple-touch-icon">
    <title>PPCP - Requests</title>

</head>

<body onload="onloadrequests()">
    <!-- NavBar -->
    <nav class="navbar bg-body-tertiary">
        <div class="d-flex container-fluid justify-content-between mx-5">
            <span class="navbar-brand mb-0 btn" onclick="window.location='/PPCP/facultyhome.html'">Pain Points Collection Portal</span>
            <div class="d-flex ">
                <!-- <div class="d-flex btn" onclick="window.location='/PPCP/pcprequest.html'">
                    Access Requests
                </div> -->

                <div class="d-flex flex-column ">
                    <div class="d-flex justify-content-end btn">
                        <div id="profile-name">Profile-name</div>
                        <img src="./assets/img/profile.svg" alt="profile">
                    </div>
                    <div class="d-flex justify-content-end btn">
                        <div id="profile-name" onclick="logout()">Logout</div>
                        <img src="./assets/img/logout.svg" alt="profile">
                    </div>
                </div>
            </div>
        </div>

    </nav>
    <!-- NavBar -->

    <!-- Request List -->
    <div class="mx-1">
        <div id="userrequestlist">
            <h1>Loading Please wait . . .</h1>
            <div class="card m-3 shadow">
                <div class="card-body">
                    <div class="d-flex flex-row justify-content-between align-items-center">
                        <div>
                            <div> User ID </div>
                            <div> Name </div>
                            <div> Email </div>
                            <div> Program </div>
                            <div> Student ID </div>
                            <div> Access </div>
                        </div>
                        <div class="justify-center ">
                            <div class="btn btn-outline-success btn-green d-flex flex-row m-2">Accept</div>
                            <div class="btn btn-outline-danger btn-light d-flex flex-row m-2">Reject</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card m-3 shadow">
                <div class="card-body">
                    <div class="d-flex flex-row justify-content-between align-items-center">
                        <div>
                            <div>UserID: ${i.uuid}</div>
                            <div>Name:  ${i.name} </div>
                            <div>Email:  ${i.email} </div>
                            <div>Program:  ${i.program} </div>
                            <div>Student Id/ Roll no. :  ${i.stdid} </div>
                        </div>
                        <div class="justify-center ">
                            <div class="btn btn-outline-success btn-green d-flex flex-row m-2" onclick="handlerequest(this)" id="${i.uuid}">Accept</div>
                            <div class="btn btn-outline-danger btn-light d-flex flex-row m-2" onclick="handlerequest(this)" id="${i.uuid}">Reject</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Request List -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="./assets/js/pcp.js"></script>
</body>

</html>